<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="shared/layout :: layout(~{::body})">

<body>

<h2 class="mb-4 text-center">My Profile</h2>

<div class="px-3 px-md-4">
    <div class="row g-4">

        <!-- THÔNG TIN USER -->
        <div class="col-md-5">
            <div class="card shadow">
                <div class="card-body">

                    <p>
                        <b>Full Name:</b>
                        <span th:text="${user.fullname}"></span>
                    </p>

                    <p>
                        <b>Email:</b>
                        <span th:text="${user.email}"></span>
                    </p>

                    <a th:href="@{/profile/edit}"
                       class="btn btn-warning btn-sm">
                        Edit Profile
                    </a>

                </div>
            </div>
        </div>

        <!-- DANH SÁCH ĐƠN HÀNG -->
        <div class="col-md-7">
            <div class="card shadow">
                <table class="table mb-0 text-center">
                    <thead class="table-light">
                    <tr>
                        <th>ID</th>
                        <th>Date</th>
                        <th>Total</th>
                        <th>Status</th>
                    </tr>
                    </thead>

                    <tbody>

                    <tr th:each="order : ${orders}">
                        <td>
                            <a th:href="@{/order/detail/{id}(id=${order.id})}"
                               th:text="${order.id}"></a>
                        </td>
                        <td th:text="${#dates.format(order.createdDate,'dd/MM/yyyy')}"></td>
                        <td th:text="${#numbers.formatDecimal(order.total,0,'COMMA',0,'POINT')} + ' đ'"></td>
                        <td th:text="${order.status}"></td>
                    </tr>

                    <tr th:if="${#lists.isEmpty(orders)}">
                        <td colspan="4">No orders yet</td>
                    </tr>

                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>

</body>
</html>